<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Beneficial Owner Form</title>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" />
  <style>
    .note {
      color: red;
    }

    .btn-submit {
      margin-left: 40%;
      margin-bottom: 5%;
      background: #4cffc5;
      color: black;
    }

    .btn-color {
      background: #4cffc5;
      color: black;
    }

    .btn-color:hover {
      background: #3be8a6;
      color: black;
    }

    .btn-color-code {
      background-color: darkgray;
      border-color: black;
    }

    .centered-card {
      max-width: 50%;
      margin: 0 auto;
      margin-top: 10%;
    }

    .centered-element {
      height: 100vh;
      width: 100vw;
      align-items: center;
      justify-content: center;
    }
  </style>
</head>

<body>
  <div id="condition-container" class="container centered-card d-block">
    <div class="card border-secondary">
      <div class="card-body text-center">
        <h3 class="card-title mb-4">Select to Continue</h3>
        <div class="d-flex justify-content-between pt-4">
          <button class="btn btn-primary btn-color" onclick="selectContainer(1)">Add Beneficial Owners</button>
          <button class="btn btn-primary btn-color" onclick="selectContainer(2)">Certify Benificiary</button>
        </div>
      </div>
    </div>
  </div>
  <div id="btn-container-2" class="container centered-element d-none">
    <div class="card-body text-center">
      <div class="form-check">
        <input class="form-check-input" type="checkbox" id="confirmCheck" checked />
        <label class="form-check-label" for="confirmCheck">
          I hereby certify, to the best of my knowledge, that the information
          provided above is correct.
        </label>
      </div>
      <button type="submit" class="btn btn-success mt-3 btn-submit d-flex mt-3">
        Submit Beneficial Owner
      </button>
    </div>
  </div>
  <div id="btn-container-1" class="container mt-5 d-none">
    <h3>Account Verification Pending</h3>
    <p class="note">Please Provide Beneficial Ownership Details</p>
    <div class="container mt-5">
      <div class="d-flex justify-content-between mb-5">
        <button type="button" class="btn btn-primary disabled" style="cursor: not-allowed">Beneficial Owner-1</button>
        <button type="button" class="btn btn-secondary" onclick="toggleContainer('container2')">Beneficial
          Owner-2</button>
        <button type="button" class="btn btn-secondary" onclick="toggleContainer('container3')">Beneficial
          Owner-3</button>
      </div>
    </div>


    <!-- Beneficial Owner-1 (UNVerified) -->
    <div id="container1" class="card mb-4 d-block">
      <div class="card-header d-flex justify-content-between align-items-center">
        <h3 class="mb-0">Beneficial Owner-1</h3>
      </div>
      <div class="card-body">
        <form class="needs-validation" novalidate>
          <div class="form-row">
            <div class="form-group col-md-6">
              <label for="firstName1">First Name</label>
              <input type="text" class="form-control" id="firstName1" placeholder="First Name" required>
              <div class="invalid-feedback">Please provide a first name.</div>
            </div>
            <div class="form-group col-md-6">
              <label for="lastName1">Last Name</label>
              <input type="text" class="form-control" id="lastName1" placeholder="Last Name" required>
              <div class="invalid-feedback">Please provide a last name.</div>
            </div>
          </div>
          <div class="form-group">
            <label for="dateOfBirth1">Date of Birth</label>
            <input type="date" class="form-control" id="dateOfBirth1" required>
            <div class="invalid-feedback">Please provide a valid date of birth.</div>
          </div>
          <div class="form-group">
            <label for="address11">Address-1</label>
            <input type="text" class="form-control" id="address11" placeholder="Address-1" required>
            <div class="invalid-feedback">Please provide an address.</div>
          </div>
          <div class="form-group">
            <label for="address12">Address-2</label>
            <input type="text" class="form-control" id="address12" placeholder="Address-2">
          </div>
          <div class="form-row">
            <div class="form-group col-md-6">
              <label for="city1">City</label>
              <input type="text" class="form-control" id="city1" placeholder="City" required>
              <div class="invalid-feedback">Please provide a city.</div>
            </div>
            <div class="form-group col-md-4">
              <label for="state1">State</label>
              <input type="text" class="form-control" id="state1" placeholder="State" required>
              <div class="invalid-feedback">Please provide a state.</div>
            </div>
            <div class="form-group col-md-2">
              <label for="zipCode1">ZIP Code</label>
              <input type="text" class="form-control" id="zipCode1" placeholder="ZIP Code" pattern="[0-9]{5}" required>
              <div class="invalid-feedback">Please provide a valid 5-digit ZIP code.</div>
            </div>
          </div>
          <div class="form-group">
            <label>Residency Status</label>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="residencyStatus1" id="resident1" value="Resident"
                checked required>
              <label class="form-check-label ml-2" for="resident1">Resident</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="residencyStatus1" id="nonResident1"
                value="Non-Resident">
              <label class="form-check-label ml-2" for="nonResident1">Non-Resident</label>
            </div>
          </div>
          <div id="residentFields1">
            <div class="form-group">
              <label for="ssn1">Enter your SSN</label>
              <input type="text" class="form-control" id="ssn1" placeholder="Enter 9 Digit SSN" pattern="[0-9]{9}"
                required>
              <div class="invalid-feedback">Please provide a valid 9-digit SSN.</div>
            </div>
          </div>
          <div id="nonResidentFields1" class="d-none">
            <div class="form-row">
              <div class="form-group col-md-6">
                <label for="passportNumber1">Enter your Passport Number</label>
                <input type="text" class="form-control" id="passportNumber1" placeholder="Passport Number" required>
                <div class="invalid-feedback">Please provide a passport number.</div>
              </div>
              <div class="form-group col-md-6">
                <label for="country1">Country</label>
                <select class="form-control" id="country1" required>
                  <option value="">Choose...</option>
                  <option>United States</option>
                  <option>Canada</option>
                  <option>United Kingdom</option>
                  <option>Australia</option>
                </select>
                <div class="invalid-feedback">Please select a country.</div>
              </div>
            </div>
          </div>
          <div class="form-group">
            <label for="documentType3">Document Type</label>
            <select class="form-control" id="documentType3">
              <option value="passport">Passport</option>
              <option value="idCard">ID Card</option>
              <option value="driverLicense">Driver License</option>
            </select>
          </div>
          <div class="form-group">
            <label for="documentUpload3">Upload Document</label>
            <input type="file" class="form-control" id="documentUpload3" />
          </div>
          <!-- <button type="submit" class="btn btn-success btn-color">Submit</button> -->
        </form>
      </div>
    </div>

    <!-- Beneficial Owner-2 (Verified) -->
    <div id="container2" class="card mb-5 d-none">
      <div class="card-header d-flex justify-content-between align-items-center">
        <h3 class="mb-0">
          Beneficial Owner-2
        </h3>

      </div>
      <div class="card-body">
        <form class="needs-validation" novalidate>
          <div class="form-row">
            <div class="form-group col-md-6">
              <label for="firstName2">First Name</label>
              <input type="text" class="form-control" id="firstName2" placeholder="First Name" required>
              <div class="invalid-feedback">Please provide a first name.</div>
            </div>
            <div class="form-group col-md-6">
              <label for="lastName2">Last Name</label>
              <input type="text" class="form-control" id="lastName2" placeholder="Last Name" required>
              <div class="invalid-feedback">Please provide a last name.</div>
            </div>
          </div>
          <div class="form-group">
            <label for="dateOfBirth2">Date of Birth</label>
            <input type="date" class="form-control" id="dateOfBirth2" required>
            <div class="invalid-feedback">Please provide a valid date of birth.</div>
          </div>
          <div class="form-group">
            <label for="address21">Address-1</label>
            <input type="text" class="form-control" id="address21" placeholder="Address-1" required>
            <div class="invalid-feedback">Please provide an address.</div>
          </div>
          <div class="form-group">
            <label for="address22">Address-2</label>
            <input type="text" class="form-control" id="address22" placeholder="Address-2">
          </div>
          <div class="form-row">
            <div class="form-group col-md-6">
              <label for="city2">City</label>
              <input type="text" class="form-control" id="city2" placeholder="City" required>
              <div class="invalid-feedback">Please provide a city.</div>
            </div>
            <div class="form-group col-md-4">
              <label for="state2">State</label>
              <input type="text" class="form-control" id="state2" placeholder="State" required>
              <div class="invalid-feedback">Please provide a state.</div>
            </div>
            <div class="form-group col-md-2">
              <label for="zipCode2">ZIP Code</label>
              <input type="text" class="form-control" id="zipCode2" placeholder="ZIP Code" pattern="[0-9]{5}" required>
              <div class="invalid-feedback">Please provide a valid 5-digit ZIP code.</div>
            </div>
          </div>
          <div class="form-group">
            <label>Residency Status</label>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="residencyStatus2" id="resident2" value="Resident"
                checked required>
              <label class="form-check-label ml-2" for="resident2">Resident</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="residencyStatus2" id="nonResident1"
                value="Non-Resident">
              <label class="form-check-label ml-2" for="nonResident1">Non-Resident</label>
            </div>
          </div>
          <div id="residentFields2">
            <div class="form-group">
              <label for="ssn2">Enter your SSN</label>
              <input type="text" class="form-control" id="ssn2" placeholder="Enter 9 Digit SSN" pattern="[0-9]{9}"
                required>
              <div class="invalid-feedback">Please provide a valid 9-digit SSN.</div>
            </div>
          </div>
          <div id="nonResidentFields2" class="d-none">
            <div class="form-row">
              <div class="form-group col-md-6">
                <label for="passportNumber2">Enter your Passport Number</label>
                <input type="text" class="form-control" id="passportNumber2" placeholder="Passport Number" required>
                <div class="invalid-feedback">Please provide a passport number.</div>
              </div>
              <div class="form-group col-md-6">
                <label for="country2">Country</label>
                <select class="form-control" id="country2" required>
                  <option value="">Choose...</option>
                  <option>United States</option>
                  <option>Canada</option>
                  <option>United Kingdom</option>
                  <option>Australia</option>
                </select>
                <div class="invalid-feedback">Please select a country.</div>
              </div>
            </div>
          </div>
          <div class="form-group">
            <label for="documentType3">Document Type</label>
            <select class="form-control" id="documentType3">
              <option value="passport">Passport</option>
              <option value="idCard">ID Card</option>
              <option value="driverLicense">Driver License</option>
            </select>
          </div>
          <div class="form-group">
            <label for="documentUpload3">Upload Document</label>
            <input type="file" class="form-control" id="documentUpload3" />
          </div>
          <!-- <button type="submit" class="btn btn-success btn-color">Submit</button> -->
        </form>
      </div>
    </div>

    <!-- Beneficial Owner-3 (Unverified) -->
    <div id="container3" class="card mb-5 d-none">
      <div class="card-header d-flex justify-content-between align-items-center">
        <h3 class="mb-0">
          Beneficial Owner-3
        </h3>

      </div>
      <div class="card-body">
        <form class="needs-validation" novalidate>
          <div class="form-row">
            <div class="form-group col-md-6">
              <label for="firstName3">First Name</label>
              <input type="text" class="form-control" id="firstName3" placeholder="First Name" required>
              <div class="invalid-feedback">Please provide a first name.</div>
            </div>
            <div class="form-group col-md-6">
              <label for="lastName3">Last Name</label>
              <input type="text" class="form-control" id="lastName3" placeholder="Last Name" required>
              <div class="invalid-feedback">Please provide a last name.</div>
            </div>
          </div>
          <div class="form-group">
            <label for="dateOfBirth3">Date of Birth</label>
            <input type="date" class="form-control" id="dateOfBirth3" required>
            <div class="invalid-feedback">Please provide a valid date of birth.</div>
          </div>
          <div class="form-group">
            <label for="address31">Address-1</label>
            <input type="text" class="form-control" id="address31" placeholder="Address-1" required>
            <div class="invalid-feedback">Please provide an address.</div>
          </div>
          <div class="form-group">
            <label for="address32">Address-2</label>
            <input type="text" class="form-control" id="address32" placeholder="Address-2">
          </div>
          <div class="form-row">
            <div class="form-group col-md-6">
              <label for="city3">City</label>
              <input type="text" class="form-control" id="city3" placeholder="City" required>
              <div class="invalid-feedback">Please provide a city.</div>
            </div>
            <div class="form-group col-md-4">
              <label for="state3">State</label>
              <input type="text" class="form-control" id="state3" placeholder="State" required>
              <div class="invalid-feedback">Please provide a state.</div>
            </div>
            <div class="form-group col-md-2">
              <label for="zipCode3">ZIP Code</label>
              <input type="text" class="form-control" id="zipCode3" placeholder="ZIP Code" pattern="[0-9]{5}" required>
              <div class="invalid-feedback">Please provide a valid 5-digit ZIP code.</div>
            </div>
          </div>
          <div class="form-group">
            <label>Residency Status</label>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="residencyStatus3" id="resident3" value="Resident"
                checked required>
              <label class="form-check-label ml-2" for="resident3">Resident</label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="residencyStatus3" id="nonResident3"
                value="Non-Resident">
              <label class="form-check-label ml-2" for="nonResident3">Non-Resident</label>
            </div>
          </div>
          <div id="residentFields3">
            <div class="form-group">
              <label for="ssn3">Enter your SSN</label>
              <input type="text" class="form-control" id="ssn3" placeholder="Enter 9 Digit SSN" pattern="[0-9]{9}"
                required>
              <div class="invalid-feedback">Please provide a valid 9-digit SSN.</div>
            </div>
          </div>
          <div id="nonResidentFields3" class="d-none">
            <div class="form-row">
              <div class="form-group col-md-6">
                <label for="passportNumber3">Enter your Passport Number</label>
                <input type="text" class="form-control" id="passportNumber3" placeholder="Passport Number" required>
                <div class="invalid-feedback">Please provide a passport number.</div>
              </div>
              <div class="form-group col-md-6">
                <label for="country3">Country</label>
                <select class="form-control" id="country3" required>
                  <option value="">Choose...</option>
                  <option>United States</option>
                  <option>Canada</option>
                  <option>United Kingdom</option>
                  <option>Australia</option>
                </select>
                <div class="invalid-feedback">Please select a country.</div>
              </div>
            </div>
          </div>

          <div class="form-group">
            <label for="documentType3">Document Type</label>
            <select class="form-control" id="documentType3">
              <option value="passport">Passport</option>
              <option value="idCard">ID Card</option>
              <option value="driverLicense">Driver License</option>
            </select>
          </div>
          <div class="form-group">
            <label for="documentUpload3">Upload Document</label>
            <input type="file" class="form-control" id="documentUpload3" />
          </div>
          <!-- <button type="submit" class="btn btn-success btn-color">
            Submit
          </button> -->
        </form>
      </div>
    </div>

    <!-- Checkbox and Submit Button -->
    <div class="form-check">
      <input class="form-check-input" type="checkbox" id="confirmCheck" />
      <label class="form-check-label" for="confirmCheck">
        I hereby certify, to the best of my knowledge, that the information
        provided above is correct.
      </label>
    </div>
    <button id="customSubmit" class="btn btn-success mt-3 btn-submit">Submit Beneficial Owner</button>
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const residencyRadios1 = document.getElementsByName("residencyStatus1");
      const residentFields1 = document.getElementById("residentFields1");
      const nonResidentFields1 =
        document.getElementById("nonResidentFields1");
      const residencyRadios2 = document.getElementsByName("residencyStatus2");
      const residentFields2 = document.getElementById("residentFields2");
      const nonResidentFields2 =
        document.getElementById("nonResidentFields2");
      const residencyRadios3 = document.getElementsByName("residencyStatus3");
      const residentFields3 = document.getElementById("residentFields3");
      const nonResidentFields3 =
        document.getElementById("nonResidentFields3");

      residencyRadios1.forEach((radio) => {
        radio.addEventListener("change", function () {
          if (this.value === "Resident") {
            residentFields1.classList.remove("d-none");
            nonResidentFields1.classList.add("d-none");
          } else {
            residentFields1.classList.add("d-none");
            nonResidentFields1.classList.remove("d-none");
          }
        });
      });

      residencyRadios2.forEach((radio) => {
        radio.addEventListener("change", function () {
          if (this.value === "Resident") {
            residentFields2.classList.remove("d-none");
            nonResidentFields2.classList.add("d-none");
          } else {
            residentFields2.classList.add("d-none");
            nonResidentFields2.classList.remove("d-none");
          }
        });
      });

      residencyRadios3.forEach((radio) => {
        radio.addEventListener("change", function () {
          if (this.value === "Resident") {
            residentFields3.classList.remove("d-none");
            nonResidentFields3.classList.add("d-none");
          } else {
            residentFields3.classList.add("d-none");
            nonResidentFields3.classList.remove("d-none");
          }
        });
      });
    });
    function toggleContainer(containerId) {
      let container = document.getElementById(containerId);

      if (container.classList.contains("d-none")) {
        container.classList.remove("d-none");
        container.classList.add("d-block");
      } else {
        container.classList.remove("d-block");
        container.classList.add("d-none");
      }

    }
    function selectContainer(containerId) {
      const mainContainer = document.getElementById("condition-container");
      mainContainer.classList.remove("d-block");
      mainContainer.classList.add("d-none");
      const contId = `btn-container-${containerId}`;
      const container = document.getElementById(contId);
      container.classList.remove("d-none");
      container.classList.add(containerId === 1 ? "d-block" : "d-flex");
    }
    function validateVisibleForms() {
      // Get all forms with the 'needs-validation' class
      const forms = document.querySelectorAll('.needs-validation');
      let allFormsValid = true;

      forms.forEach(form => {
        // Check if the form or its parent container is visible
        if (window.getComputedStyle(form).display !== 'none' &&
          window.getComputedStyle(form.closest('.card')).display !== 'none') {

          // Reset validation state
          form.classList.remove('was-validated');

          // Check validity of all form elements
          const formElements = form.elements;
          for (let i = 0; i < formElements.length; i++) {
            if (!formElements[i].checkValidity()) {
              allFormsValid = false;
              break;
            }
          }

          // Add 'was-validated' class to show validation feedback
          form.classList.add('was-validated');
        }
      });

      return allFormsValid;
    }

    // Event listener for the submit button
    document.addEventListener('DOMContentLoaded', function () {
      const customSubmitBtn = document.getElementById('customSubmit');

      customSubmitBtn.addEventListener('click', function (event) {
        event.preventDefault();

        if (validateVisibleForms()) {
          console.log('All visible forms are valid. Ready to submit!');
          // add code to submit the data or perform further actions
        } else {
          console.log('One or more visible forms have validation errors.');
        }
      });
    });


  </script>
</body>

</html>